import{g as i}from"./auth-DCUILQwn.js";async function e(t,o){const u=await i();return new Promise(s=>{chrome.runtime.sendMessage({type:"API_CALL",path:t,token:u,body:o},n=>{if(!n)return s({ok:!1,status:0,error:"No response from background"});s(n)})})}async function a(t,o=3,u=300){let s;for(let n=0;n<o;n++){const r=await t();if(r.ok)return r;if(s=r,r.status&&r.status<500&&r.status!==0)break;await new Promise(c=>setTimeout(c,u*Math.pow(2,n)))}return s??{ok:!1,status:0,error:"Unknown error"}}async function l(t){return a(()=>e("rewrite",t))}async function h(t){return a(()=>e("translate-chunks",t))}async function k(t){return a(()=>e("translate-chunks",t))}async function y(t){return a(()=>e("analyze-page",t))}async function m(t){return a(()=>e("chat",t))}async function w(t=50){return a(()=>e("slash-prompts",{limit:t}))}export{y as analyzePage,m as chat,w as getSlashPrompts,l as rewrite,h as translateChunks,k as translateChunksBatch};
